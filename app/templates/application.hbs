<header>
	<section class="branding">
		<img src="/assets/images/logo.png" width="187" height="140" alt="Metadisk - Powered by Storj">
	</section>
	<section class="search">
		<label>{{input action="retrieveHashKey" value=searchValue placeholder="Enter a file hash + key to add it to your files&hellip;"}}</label>
	</section>
</header>
<!-- 
TODO:
* Hard-code disabling of accounts, note they will stay that way until SJCX integrated
* bug test persistence/bandwidth (client/server)
* enable complete offline manifest for all application files

AFTER DEPLOY:
* add test coverage
* SSL/TLS
* Client-side encryption
* DriveShare integration + file chunking
-->
{{#animated-unless condition=notifyAccessGranted}}
	<div {{action "notify" "Great!" "Thank you for allowing Metadisk to send you important notifications!"}} id="notify-ask"><span></span> Click here to allow Metadisk to send you important notifications. <span></span></div>
{{/animated-unless}}
<main>
	<section class="sidebar">
		<section class="upload">
			{{file-upload multiple=true}}
			{{section-information caption="File Size Limit" unit="GB" value=maxFileSize valueTotal=null fileCount=null}}
		</section>
		{{#if accountsEnabled}}
			{{#section-wrapper name="your-account" title="YOUR ACCOUNT"}}
				<h3>
					<span class="with-help token"><span class="help-icon">Access Token</span></span>
				</h3>
				<fieldset class="token-select">
					<div>
						{{select-option options=model}}
					</div>
					<div {{action 'generateToken'}}></div>
				</fieldset>
				{{section-information caption="Your Bandwidth" helpType="bandwidth" unit="GB" value=currentTokenRecord.yourBandwidth valueTotal=null fileCount=null}}
				{{section-information unit="GB" caption="Estimated Storage" helpType="storage" value=currentTokenRecord.estimatedStorage valueTotal=null fileCount=null}}
				<fieldset>
					<button {{action 'getFreeSpaceTemp'}}>FREE SPACE</button>
					<button>BUY SPACE</button>
				</fieldset>
			{{/section-wrapper}}
		{{/if}}
		{{#section-wrapper name="sharing" title="SHARING"}}
			<h3>
				<span class="with-help address"><span class="help-icon">Data Address</span></span>
			</h3>
			<code>{{datacoinAddress}}</code>
			<h3>
				<span class="with-help encryption"><span class="help-icon">Encryption</span></span>
				<aside>Convergent Encryption</aside>
			</h3>
		{{/section-wrapper}}
		{{#section-wrapper name="node-info" title="NODE INFORMATION"}}
			{{section-information caption="Upload Bandwidth" unit="GB" value=uploadBandwidth valueTotal=uploadBandwidthTotal fileCount=null}}
			{{progress-bar max=uploadBandwidthTotal toValue=uploadBandwidth}}
			{{section-information caption="Download Bandwidth" unit="GB" value=downloadBandwidth valueTotal=downloadBandwidthTotal fileCount=null}}
			{{progress-bar max=downloadBandwidthTotal toValue=downloadBandwidth}}
			{{section-information caption="Cache Used" unit="GB" value=cacheUsed valueTotal=cacheUsedTotal fileCount=null}}
			{{progress-bar max=cacheUsedTotal toValue=cacheUsed}}
			{{section-information caption="Files Syncing to Cloud" unit="GB" value=null valueTotal=cloudFileSize fileCount=cloudFileCount}}
		{{/section-wrapper}}
	</section>
	<section class="uploaded-files">
		{{#each file in currentTokenRecord.files}}
			{{file-listing title=file.title baseUrl=baseUrl currentToken=currentToken copyValue=copyValue fileHash=file.hash fileKey=file.key downloadUrl=downloadUrl bytesUploaded=file.bytesUploaded fileSize=file.fileSize abortedFilename=abortedFilename}}
		{{/each}}
	</section>
</main>
<footer>
	<h1>
		<a href="http://metadisk.org">Metadisk</a> - Powered by <a href="http://storj.io">Storj</a><span class="muted"> - by using this site you are agreeing to the terms of the <a href="http://opensource.org/licenses/MIT" target="_blank">MIT license</a>.</span>
	</h1>
	<aside>
		<a href="https://github.com/Storj/web-core#api-documentation">API</a>
		<a href="https://github.com/Storj/Metadisk/issues">Report a bug</a>
	</aside>
</footer>